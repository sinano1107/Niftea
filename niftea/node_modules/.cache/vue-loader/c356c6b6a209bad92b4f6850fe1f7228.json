{"remainingRequest":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/choumasateru/Desktop/development_direction/vue/niftea/src/components/NavigationDrawer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/src/components/NavigationDrawer.vue","mtime":1578242053120},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZS9hcHAnCmltcG9ydCAnZmlyZWJhc2UvZGF0YWJhc2UnCmltcG9ydCAnZmlyZWJhc2Uvc3RvcmFnZScKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ05hdmlnYXRpb25EcmF3ZXInLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmVtYWlsLAogICAgICBpbWdVUkw6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgYnV0dG9uTGlzdDogWwogICAgICAgIHthY3Rpb246IHRoaXMudGltZWxpbmUsIGljb246ICdtZGktdGltZWxpbmUnLCB0aXRsZTogJ+OCv+OCpOODoOODqeOCpOODs++8nOa6luWCmeS4re+8nid9LAogICAgICAgIHthY3Rpb246IHRoaXMuc2VhdFJlc2VydmF0aW9uLCBpY29uOiAnbWRpLXNlYXQnLCB0aXRsZTogJ+W4reOCkuS6iOe0hOOBmeOCiyd9LAogICAgICAgIHthY3Rpb246IHRoaXMuaXNzdWVOdW1iZXIsIGljb246ICdtZGktdGlja2V0LWFjY291bnQnLCB0aXRsZTogJ+eZu+agoeOBmeOCiyd9LAogICAgICAgIHthY3Rpb246IHRoaXMuc2lnbk91dCwgaWNvbjogJ21kaS1sb2dvdXQnLCB0aXRsZTogJ+OCteOCpOODs+OCouOCpuODiCd9CiAgICAgIF0sCiAgICAgIGRyYXdlcjogbnVsbCwKICAgICAgY29sbGFwc2VPblNjcm9sbDogdHJ1ZSwKCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgbGV0IGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKQogICAgbGV0IHN0b3JhZ2UgPSBmaXJlYmFzZS5zdG9yYWdlKCkKICAgIGxldCB1aWQgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkCiAgICBsZXQgc2VsZiA9IHRoaXMKCiAgICAvLyBQcm9taXNl44Gn44OH44O844K/5Y+W5b6XCiAgICBsZXQgcmVzdWx0ID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkgewogICAgICAvLyB1aWTjgYvjgokobmFtZSxpbWcp44KS5Y+W5b6XCiAgICAgIGxldCBteURhdGEgPSBkYXRhYmFzZS5yZWYoYC91c2Vycy8ke3VpZH1gKQogICAgICBteURhdGEub24oJ3ZhbHVlJywgKHNuYXBzaG90KT0+IHsKICAgICAgICBsZXQgdmFsID0gc25hcHNob3QudmFsKCkKICAgICAgICBzZWxmLm5hbWUgPSB2YWwubmFtZSAvLyB0aGlzLm5hbWXjgatuYW1l44KS5Luj5YWlCiAgICAgICAgcmVzb2x2ZSh2YWwuaW1nKSAvLyDmrKHjgatpbWfjgpLmuKHjgZkKICAgICAgfSkKICAgIH0pCiAgICByZXN1bHQudGhlbihmdW5jdGlvbihpbWcpIHsKICAgICAgY29uc29sZS5kZWJ1ZygiTXlJbWc6IiwgaW1nKQogICAgICAvLyDlj5fjgZHlj5bjgaPjgZ9pbWfjgYvjgolpbWdVUkzjgpLlj5blvpcKICAgICAgbGV0IGltZ1JlZiA9IHN0b3JhZ2UucmVmKGAvJHtpbWd9YCkKICAgICAgaW1nUmVmLmdldERvd25sb2FkVVJMKCkudGhlbigodXJsKT0+IHsKICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCkKICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InCiAgICAgICAgeGhyLm9ubG9hZCA9ICgpPT4gewogICAgICAgICAgbGV0IGJsb2IgPSB4aHIucmVzcG9uc2UKICAgICAgICAgIHNlbGYuaW1nVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKQogICAgICAgIH0KICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKQogICAgICAgIHhoci5zZW5kKCkKICAgICAgICByZXR1cm4KICAgICAgfSkKICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgIGNvbnNvbGUuZGVidWcoIk15RGF0YUluaXQgRmluaXNoISEhIikKICAgICAgY29uc29sZS5kZWJ1ZygibXlFbWFpbDoiLCBzZWxmLmVtYWlsKQogICAgICBjb25zb2xlLmRlYnVnKCJteU5hbWU6Iiwgc2VsZi5uYW1lKQogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIHRpbWVsaW5lOiBmdW5jdGlvbigpIHsKICAgICAgLy90aGlzLiRyb3V0ZXIucHVzaCgnLycpCiAgICAgIGNvbnNvbGUubG9nKCfmupblgpnkuK3jgIHjgoLjgYbjgaHjgofjgYTjgb7jgaPjgabjgYrjgY/jgpPjgarjgZfinaTvuI8nKQogICAgfSwKICAgIHNlYXRSZXNlcnZhdGlvbjogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc2VhdFJlc2VydmF0aW9uJykKICAgIH0sCiAgICBpc3N1ZU51bWJlcjogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaXNzdWVOdW1iZXInKQogICAgfSwKICAgIHNpZ25PdXQ6IGZ1bmN0aW9uKCkgewogICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc2lnbmluJykKICAgICAgfSkKICAgIH0sCgogIH0KCn0K"},{"version":3,"sources":["NavigationDrawer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"NavigationDrawer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <!--スマホ用-->\n    <div v-if=\"$vuetify.breakpoint.smAndDown\">\n      <v-app-bar\n        :collapse=\"!collapseOnScroll\"\n        :collapse-on-scroll=\"collapseOnScroll\"\n        color=\"cyan\"\n        dark\n        app\n      >\n        <v-app-bar-nav-icon @click.stop=\"drawer = !drawer\"></v-app-bar-nav-icon>\n\n        <v-toolbar-title><v-icon>mdi-tea</v-icon>Niftea</v-toolbar-title>\n\n        <v-spacer></v-spacer>\n\n        <v-checkbox\n          v-model=\"collapseOnScroll\"\n          color=\"white\"\n          hide-details\n        ></v-checkbox>\n      </v-app-bar>\n\n\n\n      <v-navigation-drawer\n        v-model=\"drawer\"\n        app\n      >\n        <v-list-item>\n          <v-list-item-avatar>\n            <v-img :src=\"imgURL\"></v-img>\n          </v-list-item-avatar>\n\n          <v-list-item-content>\n            <v-list-item-title>{{ name }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n\n        <v-divider></v-divider>\n\n        <v-list dense>\n\n          <v-list-item\n            v-for=\"item in buttonList\"\n            :key=\"item.title\"\n            link\n            @click=\"item.action\"\n          >\n            <v-list-item-icon>\n              <v-icon>{{ item.icon }}</v-icon>\n            </v-list-item-icon>\n\n            <v-list-item-content>\n              <v-list-item-title>{{ item.title }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n\n        <v-footer padless fixed>\n          <v-col\n            class=\"text-center\"\n            cols=\"12\"\n          >\n          <v-list-item-title>プロトよりのプロトタイプ</v-list-item-title>\n          <v-list-item-title>\n            {{ new Date().getFullYear() }} — <strong>Vuetify</strong>\n          </v-list-item-title>\n          </v-col>\n        </v-footer>\n      </v-navigation-drawer>\n    </div>\n\n\n    <!--パソコンよう-->\n\n    <v-navigation-drawer\n      expand-on-hover\n      permanent\n      app\n      v-else\n    >\n\n      <template v-slot:prepend>\n        <v-list>\n          <v-list-item>\n            <v-list-item-avatar>\n              <v-img :src=\"imgURL\"></v-img>\n            </v-list-item-avatar>\n          </v-list-item>\n\n          <v-list-item\n            link\n            two-line\n          >\n            <v-list-item-content>\n              <v-list-item-title class=\"title\">{{ name }}</v-list-item-title>\n              <v-list-item-subtitle>{{ email }}</v-list-item-subtitle>\n            </v-list-item-content>\n            <v-list-item-action>\n              <v-icon>mdi-menu-down</v-icon>\n            </v-list-item-action>\n          </v-list-item>\n        </v-list>\n      </template>\n\n      <v-divider></v-divider>\n\n      <v-list\n        nav\n        dense\n        v-for=\"item in buttonList\"\n        :key=\"item.title\"\n\n      >\n        <v-list-item link @click=\"item.action\">\n          <v-list-item-icon>\n            <v-icon>{{ item.icon }}</v-icon>\n          </v-list-item-icon>\n          <v-list-item-title>{{ item.title }}</v-list-item-title>\n        </v-list-item>\n\n\n      </v-list>\n      <v-footer padless fixed>\n        <v-col\n          class=\"text-center\"\n          cols=\"12\"\n        >\n        <v-list-item-title>プロトよりのプロトタイプ</v-list-item-title>\n        <v-list-item-title>\n          {{ new Date().getFullYear() }} — <strong>Vuetify</strong>\n        </v-list-item-title>\n        </v-col>\n      </v-footer>\n    </v-navigation-drawer>\n  </div>\n</template>\n\n<script>\n  import firebase from 'firebase/app'\n  import 'firebase/database'\n  import 'firebase/storage'\n\n\n  export default {\n    name: 'NavigationDrawer',\n    data() {\n      return {\n        email: firebase.auth().currentUser.email,\n        imgURL: '',\n        name: '',\n        buttonList: [\n          {action: this.timeline, icon: 'mdi-timeline', title: 'タイムライン＜準備中＞'},\n          {action: this.seatReservation, icon: 'mdi-seat', title: '席を予約する'},\n          {action: this.issueNumber, icon: 'mdi-ticket-account', title: '登校する'},\n          {action: this.signOut, icon: 'mdi-logout', title: 'サインアウト'}\n        ],\n        drawer: null,\n        collapseOnScroll: true,\n\n      }\n    },\n    created() {\n      let database = firebase.database()\n      let storage = firebase.storage()\n      let uid = firebase.auth().currentUser.uid\n      let self = this\n\n      // Promiseでデータ取得\n      let result = new Promise(function(resolve) {\n        // uidから(name,img)を取得\n        let myData = database.ref(`/users/${uid}`)\n        myData.on('value', (snapshot)=> {\n          let val = snapshot.val()\n          self.name = val.name // this.nameにnameを代入\n          resolve(val.img) // 次にimgを渡す\n        })\n      })\n      result.then(function(img) {\n        console.debug(\"MyImg:\", img)\n        // 受け取ったimgからimgURLを取得\n        let imgRef = storage.ref(`/${img}`)\n        imgRef.getDownloadURL().then((url)=> {\n          let xhr = new XMLHttpRequest()\n          xhr.responseType = 'blob'\n          xhr.onload = ()=> {\n            let blob = xhr.response\n            self.imgURL = URL.createObjectURL(blob)\n          }\n          xhr.open('GET', url)\n          xhr.send()\n          return\n        })\n      }).then(function() {\n        console.debug(\"MyDataInit Finish!!!\")\n        console.debug(\"myEmail:\", self.email)\n        console.debug(\"myName:\", self.name)\n      })\n    },\n    methods: {\n      timeline: function() {\n        //this.$router.push('/')\n        console.log('準備中、もうちょいまっておくんなし❤️')\n      },\n      seatReservation: function() {\n        this.$router.push('/seatReservation')\n      },\n      issueNumber: function() {\n        this.$router.push('/issueNumber')\n      },\n      signOut: function() {\n        firebase.auth().signOut().then(() => {\n          this.$router.push('/signin')\n        })\n      },\n\n    }\n\n  }\n</script>\n"]}]}
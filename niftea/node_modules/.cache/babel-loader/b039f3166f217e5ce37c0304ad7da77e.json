{"remainingRequest":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/thread-loader/dist/cjs.js!/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/babel-loader/lib/index.js!/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/choumasateru/Desktop/development_direction/vue/niftea/src/components/SeatCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/src/components/SeatCard.vue","mtime":1578226723251},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/choumasateru/Desktop/development_direction/vue/niftea/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZS9hcHAnOwppbXBvcnQgJ2ZpcmViYXNlL2RhdGFiYXNlJzsKaW1wb3J0ICdmaXJlYmFzZS9zdG9yYWdlJzsKaW1wb3J0IEluZGV0ZXJtaW5hdGUgZnJvbSAnLi9JbmRldGVybWluYXRlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93OiBmYWxzZSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgcmVzZXJ2ZWQ6IGZhbHNlLAogICAgICBmaWx0ZXJfcmVzZXJ2ZXI6IFtdLAogICAgICByZXNlcnZlcjogW10sCiAgICAgIHJlc2VydmVyRGF0YToge30sCiAgICAgIGNvdW50OiAwLAogICAgICB0ZXh0OiAnJywKICAgICAgLy8g44K544OK44OD44Kv44OQ44O844Gu44OG44Kt44K544OICiAgICAgIHNuYWNrYmFyOiBmYWxzZQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBpZDogTnVtYmVyLAogICAgZGF5OiBTdHJpbmcKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEluZGV0ZXJtaW5hdGU6IEluZGV0ZXJtaW5hdGUKICB9LAogIHdhdGNoOiB7CiAgICBmaWx0ZXJfcmVzZXJ2ZXI6IGZ1bmN0aW9uIGZpbHRlcl9yZXNlcnZlcih2YWwpIHsKICAgICAgaWYgKHZhbC5sZW5ndGggIT0gMCkgewogICAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuY291bnQgPSB2YWwubGVuZ3RoOwogICAgICB2YXIgbXlVaWQgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkOwogICAgICB0aGlzLnJlc2VydmVkID0gZmFsc2U7IC8vIOWIneacn+WMlgoKICAgICAgY29uc29sZS5kZWJ1Zyh2YWwpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGViZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsW2ldID09IG15VWlkKSB7CiAgICAgICAgICB0aGlzLnJlc2VydmVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJlc2VydmVyRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMucmVzZXJ2ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5maWx0ZXJfcmVzZXJ2ZXIgPSBbXTsKICAgICAgdGhpcy5yZXNlcnZlciA9IFtdOwogICAgICB0aGlzLnJlc2VydmVyRGF0YSA9IHt9OwogICAgICB0aGlzLmNvdW50ID0gMDsKICAgICAgdGhpcy5nZXRSZXNlcnZlckRhdGEoKTsKICAgIH0sCiAgICBnZXRSZXNlcnZlckRhdGE6IGZ1bmN0aW9uIGdldFJlc2VydmVyRGF0YSgpIHsKICAgICAgdmFyIHNlbGYsIG15VWlkLCByZXNlcnZlciwgaSwgX2ksIHVzZXJEYXRhLCB1c2VySW1nOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBnZXRSZXNlcnZlckRhdGEkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHNlbGYgPSB0aGlzOwogICAgICAgICAgICAgIG15VWlkID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVpZDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHNlbGYuZ2V0UmVzZXJ2ZXIoKSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzZXJ2ZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc2VydmVyKTsKICAgICAgICAgICAgICBzZWxmLmNvdW50ID0gcmVzZXJ2ZXIubGVuZ3RoOwoKICAgICAgICAgICAgICBpZiAocmVzZXJ2ZXIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgLy8gcmVzZXJ2ZXLjgavoh6rliIbjga5pZOOBjOOBguOCi+OBi+OBp3Jlc2VydmVk44KSdHJ1ZQogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJlc2VydmVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNlcnZlcltpXSA9PSBteVVpZCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXJ2ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfaSA9IDA7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgaWYgKCEoX2kgPCByZXNlcnZlci5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHNlbGYuZ2V0VXNlckRhdGEocmVzZXJ2ZXJbX2ldKSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHVzZXJEYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKHVzZXJEYXRhKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChzZWxmLmdldFVzZXJJbWcodXNlckRhdGEuaW1nKSk7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIHVzZXJJbWcgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcodXNlckltZyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzZXJ2ZXJbX2ldKTsKICAgICAgICAgICAgICBzZWxmLnJlc2VydmVyRGF0YVtyZXNlcnZlcltfaV1dID0gewogICAgICAgICAgICAgICAgIm5hbWUiOiB1c2VyRGF0YS5yZWFsTmFtZSwKICAgICAgICAgICAgICAgICJpbWciOiB1c2VySW1nCiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgX2krKzsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzZWxmLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfSwKICAgIGdldFJlc2VydmVyOiBmdW5jdGlvbiBnZXRSZXNlcnZlcigpIHsKICAgICAgdmFyIGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICB2YXIgZGF0YSA9IGRhdGFiYXNlLnJlZigiL3NlYXRzLyIuY29uY2F0KHNlbGYuZGF5LCAiLyIpLmNvbmNhdChzZWxmLmlkKSk7CiAgICAgICAgZGF0YS5vbigndmFsdWUnLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgIHZhciB2YWwgPSBzbmFwc2hvdC52YWwoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICAgICAgICBzZWxmLnJlc2VydmVyID0gdmFsOwogICAgICAgICAgdmFsID0gdmFsLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbSAhPSAibmlsIjsKICAgICAgICAgIH0pOyAvLyBuaWzjgpLmtojjgZkKCiAgICAgICAgICBzZWxmLmZpbHRlcl9yZXNlcnZlciA9IHZhbDsKICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICAgICAgICByZXNvbHZlKHZhbCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJEYXRhOiBmdW5jdGlvbiBnZXRVc2VyRGF0YSh1aWQpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgdmFyIGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKTsKICAgICAgICB2YXIgdXNlckRhdGEgPSBkYXRhYmFzZS5yZWYoIi91c2Vycy8iLmNvbmNhdCh1aWQpKTsKICAgICAgICB1c2VyRGF0YS5vbigndmFsdWUnLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgIHJlc29sdmUoc25hcHNob3QudmFsKCkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VySW1nOiBmdW5jdGlvbiBnZXRVc2VySW1nKGltZykgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICB2YXIgc3RvcmFnZSA9IGZpcmViYXNlLnN0b3JhZ2UoKTsKICAgICAgICB2YXIgaW1nUmVmID0gc3RvcmFnZS5yZWYoIiIuY29uY2F0KGltZykpOwogICAgICAgIGltZ1JlZi5nZXREb3dubG9hZFVSTCgpLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJzsKCiAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgYmxvYiA9IHhoci5yZXNwb25zZTsKICAgICAgICAgICAgcmVzb2x2ZShVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTsKICAgICAgICAgIH07CgogICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7CiAgICAgICAgICB4aHIuc2VuZCgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZXNlcnZlOiBmdW5jdGlvbiByZXNlcnZlKCkgewogICAgICB2YXIgZGF0YWJhc2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpOwogICAgICB2YXIgbXlVaWQgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkOyAvLyBteVVpZAoKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAvLyDoh6rliIbjgYzku5bjga7loLTmiYDjgavkuojntITjgZfjgabjgYTjgovloLTlkIjjgZ3jgozjgpLjgq3jg6Pjg7Pjgrvjg6vjgZnjgosKICAgICAgICB2YXIgc2VhcmNoTGlzdCA9IGRhdGFiYXNlLnJlZigiL3NlYXRzLyIuY29uY2F0KHNlbGYuZGF5KSk7CiAgICAgICAgc2VhcmNoTGlzdC5vbmNlKCd2YWx1ZScsIGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgdmFyIHZhbCA9IHNuYXBzaG90LnZhbCgpOwogICAgICAgICAgY29uc29sZS5kZWJ1Zyh2YWwpOwoKICAgICAgICAgIHNlYXJjaF9sb29wOiBmb3IgKHZhciBpZCA9IDA7IGlkIDwgMTU7IGlkKyspIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgICAgICAgICBpZiAodmFsW2lkXVtpXSA9PSBteVVpZCkgewogICAgICAgICAgICAgICAgLy8g6KaL44Gk44GR44Gf44KJbmly44Gr44GZ44KLCiAgICAgICAgICAgICAgICBkYXRhYmFzZS5yZWYoInNlYXRzLyIuY29uY2F0KHNlbGYuZGF5LCAiLyIpLmNvbmNhdChpZCwgIi8iKS5jb25jYXQoaSkpLnNldCgibmlsIik7CiAgICAgICAgICAgICAgICBicmVhayBzZWFyY2hfbG9vcDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHRhcmdldCA9IHNlbGYucmVzZXJ2ZXIuaW5kZXhPZigibmlsIik7CgogICAgICAgIGlmICh0YXJnZXQgPT0gLTEpIHsKICAgICAgICAgIGNvbnNvbGUuZGVidWcoIuOCguOBhuaXouOBq+S6iOe0hOOBleOCjOOBpuOBhOOBvuOBmeOAguODquODreODvOODieOBl+OBpuOBj+OBoOOBleOBhCIpOwogICAgICAgICAgc2VsZi50ZXh0ID0gJ1vjgqjjg6njg7xd5LqI57SE44Gn44GN44G+44Gb44KT44Gn44GX44Gf44CC44Oa44O844K444KS44Oq44Ot44O844OJ44GX44Gm44GP44Gg44GV44GEJzsKICAgICAgICAgIHNlbGYuc25hY2tiYXIgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkYXRhYmFzZS5yZWYoInNlYXRzLyIuY29uY2F0KHNlbGYuZGF5LCAiLyIpLmNvbmNhdChzZWxmLmlkLCAiLyIpLmNvbmNhdCh0YXJnZXQpKS5zZXQobXlVaWQpOwogICAgICAgICAgc2VsZi50ZXh0ID0gJ+S6iOe0hOOBl+OBvuOBl+OBn++8gSc7CiAgICAgICAgICBzZWxmLnNuYWNrYmFyID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHNlbGYuaW5pdCgpOwogICAgICB9KTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIGRhdGFiYXNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKTsKICAgICAgdmFyIG15VWlkID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVpZDsKICAgICAgdmFyIHRhcmdldCA9IHRoaXMucmVzZXJ2ZXIuaW5kZXhPZihteVVpZCk7CiAgICAgIGRhdGFiYXNlLnJlZigic2VhdHMvIi5jb25jYXQodGhpcy5kYXksICIvIikuY29uY2F0KHRoaXMuaWQsICIvIikuY29uY2F0KHRhcmdldCkpLnNldCgibmlsIik7CiAgICAgIHRoaXMuaW5pdCgpOwogICAgICB0aGlzLnRleHQgPSAn5LqI57SE44KS44Kt44Oj44Oz44K744Or44GX44G+44GX44GfJzsKICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SeatCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA,OAAA,QAAA,MAAA,cAAA;AACA,OAAA,mBAAA;AACA,OAAA,kBAAA;AACA,OAAA,aAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,eAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,YAAA,EAAA,EANA;AAOA,MAAA,KAAA,EAAA,CAPA;AAQA,MAAA,IAAA,EAAA,EARA;AAQA;AACA,MAAA,QAAA,EAAA;AATA,KAAA;AAWA,GAbA;AAcA,EAAA,KAAA,EAAA;AAAA,IAAA,EAAA,EAAA,MAAA;AAAA,IAAA,GAAA,EAAA;AAAA,GAdA;AAeA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA,GAfA;AAkBA,EAAA,KAAA,EAAA;AACA,IAAA,eAAA,EAAA,yBAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,IAAA,GAAA,KAAA;AACA;;AACA,WAAA,KAAA,GAAA,GAAA,CAAA,MAAA;AACA,UAAA,KAAA,GAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,GAAA;AACA,WAAA,QAAA,GAAA,KAAA,CARA,CAQA;;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,GAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,GAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,GAAA,CAAA,CAAA,CAAA,IAAA,KAAA,EAAA;AAAA,eAAA,QAAA,GAAA,IAAA;AAAA;AACA;AACA;AAdA,GAlBA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,SAAA,eAAA;AACA,GApCA;AAqCA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,eAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,KAAA,GAAA,CAAA;AACA,WAAA,eAAA;AACA,KAVA;AAWA,IAAA,eAXA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAYA,cAAA,IAZA,GAYA,IAZA;AAaA,cAAA,KAbA,GAaA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,GAbA;AAAA;AAAA,8CAeA,IAAA,CAAA,WAAA,EAfA;;AAAA;AAeA,cAAA,QAfA;AAgBA,cAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AAGA,cAAA,IAAA,CAAA,KAAA,GAAA,QAAA,CAAA,MAAA;;AACA,kBAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA;AACA,qBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,QAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,sBAAA,QAAA,CAAA,CAAA,CAAA,IAAA,KAAA,EAAA;AAAA,yBAAA,QAAA,GAAA,IAAA;AAAA;AACA;AACA;;AAEA,cAAA,EA3BA,GA2BA,CA3BA;;AAAA;AAAA,oBA2BA,EAAA,GAAA,QAAA,CAAA,MA3BA;AAAA;AAAA;AAAA;;AAAA;AAAA,8CA4BA,IAAA,CAAA,WAAA,CAAA,QAAA,CAAA,EAAA,CAAA,CA5BA;;AAAA;AA4BA,cAAA,QA5BA;AA6BA,cAAA,OAAA,CAAA,KAAA,CAAA,QAAA;AA7BA;AAAA,8CA8BA,IAAA,CAAA,UAAA,CAAA,QAAA,CAAA,GAAA,CA9BA;;AAAA;AA8BA,cAAA,OA9BA;AA+BA,cAAA,OAAA,CAAA,KAAA,CAAA,OAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA;AACA,cAAA,IAAA,CAAA,YAAA,CAAA,QAAA,CAAA,EAAA,CAAA,IAAA;AAAA,wBAAA,QAAA,CAAA,QAAA;AAAA,uBAAA;AAAA,eAAA;;AAjCA;AA2BA,cAAA,EAAA,EA3BA;AAAA;AAAA;;AAAA;AAmCA,cAAA,UAAA,CAAA,YAAA;AACA,gBAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AACA,eAFA,EAEA,IAFA,CAAA;;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCA,IAAA,WAxCA,yBAwCA;AACA,UAAA,QAAA,GAAA,QAAA,CAAA,QAAA,EAAA;AACA,UAAA,IAAA,GAAA,IAAA;AAEA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,GAAA,kBAAA,IAAA,CAAA,GAAA,cAAA,IAAA,CAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA,EAAA,CAAA,OAAA,EAAA,UAAA,QAAA,EAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,UAAA,IAAA,CAAA,QAAA,GAAA,GAAA;AACA,UAAA,GAAA,GAAA,GAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AAAA,mBAAA,IAAA,IAAA,KAAA;AAAA,WAAA,CAAA,CAJA,CAIA;;AACA,UAAA,IAAA,CAAA,eAAA,GAAA,GAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA;AACA,SARA;AASA,OAXA,CAAA;AAYA,KAxDA;AAyDA,IAAA,WAzDA,uBAyDA,GAzDA,EAyDA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,QAAA,GAAA,QAAA,CAAA,QAAA,EAAA;AACA,YAAA,QAAA,GAAA,QAAA,CAAA,GAAA,kBAAA,GAAA,EAAA;AACA,QAAA,QAAA,CAAA,EAAA,CAAA,OAAA,EAAA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,QAAA,CAAA,GAAA,EAAA,CAAA;AACA,SAFA;AAGA,OANA,CAAA;AAOA,KAjEA;AAkEA,IAAA,UAlEA,sBAkEA,GAlEA,EAkEA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,OAAA,GAAA,QAAA,CAAA,OAAA,EAAA;AACA,YAAA,MAAA,GAAA,OAAA,CAAA,GAAA,WAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,cAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,GAAA,IAAA,cAAA,EAAA;AACA,UAAA,GAAA,CAAA,YAAA,GAAA,MAAA;;AACA,UAAA,GAAA,CAAA,MAAA,GAAA,YAAA;AACA,gBAAA,IAAA,GAAA,GAAA,CAAA,QAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA,CAAA;AACA,WAHA;;AAIA,UAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA,GAAA;AACA,UAAA,GAAA,CAAA,IAAA;AACA,SATA;AAUA,OAbA,CAAA;AAcA,KAjFA;AAkFA,IAAA,OAlFA,qBAkFA;AACA,UAAA,QAAA,GAAA,QAAA,CAAA,QAAA,EAAA;AACA,UAAA,KAAA,GAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,GAAA,CAFA,CAEA;;AACA,UAAA,IAAA,GAAA,IAAA;AAGA,UAAA,MAAA,GAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA;AACA,YAAA,UAAA,GAAA,QAAA,CAAA,GAAA,kBAAA,IAAA,CAAA,GAAA,EAAA;AACA,QAAA,UAAA,CAAA,IAAA,CAAA,OAAA,EAAA,UAAA,QAAA,EAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,GAAA;;AAEA,UAAA,WAAA,EACA,KAAA,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA;AACA,iBAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA,EAAA;AACA,kBAAA,GAAA,CAAA,EAAA,CAAA,CAAA,CAAA,KAAA,KAAA,EAAA;AACA;AACA,gBAAA,QAAA,CAAA,GAAA,iBAAA,IAAA,CAAA,GAAA,cAAA,EAAA,cAAA,CAAA,GAAA,GAAA,CAAA,KAAA;AACA,sBAAA,WAAA;AACA;AACA;AACA;;AACA,UAAA,OAAA;AACA,SAfA;AAgBA,OAnBA,CAAA;AAqBA,MAAA,MAAA,CAAA,IAAA,CAAA,YAAA;AACA,YAAA,MAAA,GAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,KAAA,CAAA;;AACA,YAAA,MAAA,IAAA,CAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,yBAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,gCAAA;AACA,UAAA,IAAA,CAAA,QAAA,GAAA,IAAA;AACA,SAJA,MAIA;AACA,UAAA,QAAA,CAAA,GAAA,iBAAA,IAAA,CAAA,GAAA,cAAA,IAAA,CAAA,EAAA,cAAA,MAAA,GAAA,GAAA,CAAA,KAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,SAAA;AACA,UAAA,IAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AACA,QAAA,IAAA,CAAA,IAAA;AACA,OAZA;AAaA,KA1HA;AA2HA,IAAA,MA3HA,oBA2HA;AACA,UAAA,QAAA,GAAA,QAAA,CAAA,QAAA,EAAA;AACA,UAAA,KAAA,GAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,GAAA;AAEA,UAAA,MAAA,GAAA,KAAA,QAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,MAAA,QAAA,CAAA,GAAA,iBAAA,KAAA,GAAA,cAAA,KAAA,EAAA,cAAA,MAAA,GAAA,GAAA,CAAA,KAAA;AACA,WAAA,IAAA;AACA,WAAA,IAAA,GAAA,cAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA;AApIA;AArCA,CAAA","sourcesContent":["<template>\n  <div>\n    <v-snackbar\n      v-model=\"snackbar\"\n      top\n      right\n    >\n      {{ text }}\n      <v-btn\n        color=\"pink\"\n        text\n        @click=\"snackbar = false\"\n      >\n        Close\n      </v-btn>\n    </v-snackbar>\n\n    <v-hover v-slot:default=\"{ hover }\">\n      <v-card\n        class=\"mx-auto\"\n        max-width=\"344\"\n        :elevation=\"hover ? 12 : 2\"\n      >\n        <v-list-item three-line>\n          <v-list-item-content>\n            <div class=\"overline mb-4\">グループ{{ id+1 }}\n              <v-icon\n                color=\"red\"\n                v-if=\"(count == 6) && $vuetify.breakpoint.smAndDown\"\n              >mdi-close</v-icon>\n              <v-icon\n                color=\"light-green\"\n                v-else-if=\"(count <= 3) && $vuetify.breakpoint.smAndDown\"\n              >mdi-circle-double</v-icon>\n              <v-icon\n                color=\"blue\"\n                v-else-if=\"$vuetify.breakpoint.smAndDown\"\n              >mdi-triangle-outline</v-icon>\n            </div>\n\n\n\n            <v-chip-group\n              v-if=\"show && $vuetify.breakpoint.smAndDown\"\n            >\n              <Indeterminate v-if=\"loading\" />\n              <v-chip v-else v-for=\"(item,i) in filter_reserver\" :key=\"i\">\n                <v-avatar left>\n                  <v-img :src=\"reserverData[item]['img']\"></v-img>\n                </v-avatar>\n                {{ reserverData[item][\"name\"] }}\n              </v-chip>\n            </v-chip-group>\n            <v-chip-group\n              column\n              v-else-if=\"show\"\n            >\n              <Indeterminate v-if=\"loading\" />\n              <v-chip v-else v-for=\"(item,i) in filter_reserver\" :key=\"i\">\n                <v-avatar left>\n                  <v-img :src=\"reserverData[item]['img']\"></v-img>\n                </v-avatar>\n                {{ reserverData[item][\"name\"] }}\n              </v-chip>\n            </v-chip-group>\n\n            <v-list-item-subtitle v-else>だれもいません</v-list-item-subtitle>\n          </v-list-item-content>\n\n\n          <v-list-item-avatar\n            size=\"70\"\n            color=\"red\"\n            v-if=\"(count == 6) && $vuetify.breakpoint.mdAndUp\"\n          >\n            <v-icon x-large>mdi-close</v-icon>\n          </v-list-item-avatar>\n          <v-list-item-avatar\n            size=\"70\"\n            color=\"light-green\"\n            v-else-if=\"(count <= 3) && $vuetify.breakpoint.mdAndUp\"\n          >\n            <v-icon x-large>mdi-circle-double</v-icon>\n          </v-list-item-avatar>\n          <v-list-item-avatar\n            size=\"70\"\n            color=\"blue\"\n            v-else-if=\"$vuetify.breakpoint.mdAndUp\"\n          >\n            <v-icon x-large>mdi-triangle-outline</v-icon>\n          </v-list-item-avatar>\n\n\n\n\n        </v-list-item>\n\n        <v-card-actions>\n          <v-btn text v-if=\"reserved\" @click=\"cancel\">キャンセル</v-btn>\n          <v-btn text v-else-if=\"count!=6\" @click=\"reserve\">予約</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-hover>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase/app'\nimport 'firebase/database'\nimport 'firebase/storage'\nimport Indeterminate from './Indeterminate'\n\nexport default {\n  data() {\n    return {\n      show: false,\n      loading: true,\n      reserved: false,\n      filter_reserver: [],\n      reserver: [],\n      reserverData: {},\n      count: 0,\n      text: '', // スナックバーのテキスト\n      snackbar: false\n    }\n  },\n  props: {id: Number, day: String},\n  components: {\n    Indeterminate\n  },\n  watch: {\n    filter_reserver: function(val) {\n      if (val.length != 0) {\n        this.show = true\n      } else {\n        this.show = false\n      }\n      this.count = val.length\n      let myUid = firebase.auth().currentUser.uid\n      this.reserved = false // 初期化\n      console.debug(val)\n      for (let i=0; i<val.lebgth; i++) {\n        if (val[i] == myUid) { this.reserved = true }\n      }\n    }\n  },\n  created() {\n    this.getReserverData()\n  },\n  methods: {\n    init() {\n      this.show = false\n      this.loading = true\n      this.reserved = false\n      this.filter_reserver = []\n      this.reserver = []\n      this.reserverData = {}\n      this.count = 0\n      this.getReserverData()\n    },\n    async getReserverData() {\n      let self = this\n      let myUid = firebase.auth().currentUser.uid\n\n      let reserver = await self.getReserver()\n      console.log(reserver)\n\n\n      self.count = reserver.length\n      if (reserver.length > 0) {\n        // reserverに自分のidがあるかでreservedをtrue\n        for (let i=0; i<reserver.length; i++) {\n          if (reserver[i] == myUid) { this.reserved = true }\n        }\n      }\n\n      for (let i=0; i<reserver.length; i++) {\n        let userData = await self.getUserData(reserver[i])\n        console.debug(userData)\n        let userImg = await self.getUserImg(userData.img)\n        console.debug(userImg)\n        console.log(reserver[i])\n        self.reserverData[reserver[i]] = {\"name\": userData.realName, \"img\": userImg}\n      }\n      setTimeout(()=> {\n        self.loading = false\n      }, 1000)\n\n    },\n    getReserver() {\n      const database = firebase.database()\n      let self = this\n\n      return new Promise(function(resolve) {\n        let data = database.ref(`/seats/${self.day}/${self.id}`)\n        data.on('value', (snapshot)=> {\n          let val = snapshot.val()\n          console.log(val)\n          self.reserver = val\n          val = val.filter(function( item ) { return item != \"nil\" }) // nilを消す\n          self.filter_reserver = val\n          console.log(val)\n          resolve(val)\n        })\n      })\n    },\n    getUserData(uid) {\n      return new Promise(function(resolve) {\n        let database = firebase.database()\n        let userData = database.ref(`/users/${uid}`)\n        userData.on('value', (snapshot)=> {\n          resolve(snapshot.val())\n        })\n      })\n    },\n    getUserImg(img) {\n      return new Promise(function(resolve) {\n        let storage = firebase.storage()\n        let imgRef = storage.ref(`${img}`)\n        imgRef.getDownloadURL().then((url)=> {\n          let xhr = new XMLHttpRequest()\n          xhr.responseType = 'blob'\n          xhr.onload = ()=> {\n            let blob = xhr.response\n            resolve(URL.createObjectURL(blob))\n          }\n          xhr.open('GET', url)\n          xhr.send()\n        })\n      })\n    },\n    reserve() {\n      const database = firebase.database()\n      const myUid = firebase.auth().currentUser.uid // myUid\n      const self = this\n\n\n      var result = new Promise(function(resolve) {\n        // 自分が他の場所に予約している場合それをキャンセルする\n        let searchList = database.ref(`/seats/${self.day}`)\n        searchList.once('value', (snapshot)=> {\n          let val = snapshot.val()\n          console.debug(val)\n\n          search_loop:\n          for (let id=0; id<15; id++) {\n            for (let i=0; i<6; i++) {\n              if (val[id][i] == myUid) {\n                // 見つけたらnirにする\n                database.ref(`seats/${self.day}/${id}/${i}`).set(\"nil\")\n                break search_loop\n              }\n            }\n          }\n          resolve()\n        })\n      })\n\n      result.then( function() {\n        let target = self.reserver.indexOf(\"nil\")\n        if (target == -1) {\n          console.debug(\"もう既に予約されています。リロードしてください\")\n          self.text = '[エラー]予約できませんでした。ページをリロードしてください'\n          self.snackbar = true\n        } else {\n          database.ref(`seats/${self.day}/${self.id}/${target}`).set(myUid)\n          self.text = '予約しました！'\n          self.snackbar = true\n        }\n        self.init()\n      })\n    },\n    cancel() {\n      const database = firebase.database()\n      const myUid = firebase.auth().currentUser.uid\n\n      let target = this.reserver.indexOf(myUid)\n      database.ref(`seats/${this.day}/${this.id}/${target}`).set(\"nil\")\n      this.init()\n      this.text = '予約をキャンセルしました'\n      this.snackbar = true\n    },\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\n</style>\n"],"sourceRoot":"src/components"}]}
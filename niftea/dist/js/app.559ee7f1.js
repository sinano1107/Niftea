(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],d=0,v=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"49d9":function(t,e,a){"use strict";var n=a("cb3a"),r=a.n(n);r.a},"4ac0":function(t,e,a){t.exports=a.p+"img/seat.d4c51fd3.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"}}),a("v-content",[a("router-view")],1)],1)},s=[],o={name:"App",data:function(){return{}}},i=o,c=a("2877"),l=a("6544"),u=a.n(l),d=a("7496"),v=a("a75b"),f=Object(c["a"])(i,r,s,!1,null,null,null),m=f.exports;u()(f,{VApp:d["a"],VContent:v["a"]});a("db4d");var h=a("2f62");n["a"].use(h["a"]);var p=new h["a"].Store({state:{},getters:{},mutations:{},actions:{}}),b=p,g=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavigationDrawer"),a("v-content",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"11"}},[a("SeatDayTab")],1)],1)],1)],1)},y=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$vuetify.breakpoint.smAndDown?a("div",[a("v-app-bar",{attrs:{collapse:!t.collapseOnScroll,"collapse-on-scroll":t.collapseOnScroll,color:"cyan",dark:"",app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",[a("v-icon",[t._v("mdi-tea")]),t._v("Niftea")],1),a("v-spacer"),a("v-checkbox",{attrs:{color:"white","hide-details":""},model:{value:t.collapseOnScroll,callback:function(e){t.collapseOnScroll=e},expression:"collapseOnScroll"}})],1),a("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.imgURL}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.name))])],1)],1),a("v-divider"),a("v-list",{attrs:{dense:""}},t._l(t.buttonList,(function(e){return a("v-list-item",{key:e.title,attrs:{link:""},on:{click:e.action}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1),a("v-footer",{attrs:{padless:"",fixed:""}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-list-item-title",[t._v("プロトよりのプロトタイプ")]),a("v-list-item-title",[t._v(" "+t._s((new Date).getFullYear())+" — "),a("strong",[t._v("Vuetify")])])],1)],1)],1)],1):a("v-navigation-drawer",{attrs:{"expand-on-hover":"",permanent:"",app:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.imgURL}})],1)],1),a("v-list-item",{attrs:{link:"","two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[t._v(t._s(t.name))]),a("v-list-item-subtitle",[t._v(t._s(t.email))])],1),a("v-list-item-action",[a("v-icon",[t._v("mdi-menu-down")])],1)],1)],1)]},proxy:!0}])},[a("v-divider"),t._l(t.buttonList,(function(e){return a("v-list",{key:e.title,attrs:{nav:"",dense:""}},[a("v-list-item",{attrs:{link:""},on:{click:e.action}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),a("v-footer",{attrs:{padless:"",fixed:""}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-list-item-title",[t._v("プロトよりのプロトタイプ")]),a("v-list-item-title",[t._v(" "+t._s((new Date).getFullYear())+" — "),a("strong",[t._v("Vuetify")])])],1)],1)],2)],1)},x=[],k=(a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("59ca")),C=a.n(k),V=(a("66ce"),a("588e"),{name:"NavigationDrawer",data:function(){return{email:C.a.auth().currentUser.email,imgURL:"",name:"",buttonList:[{action:this.timeline,icon:"mdi-timeline",title:"タイムライン＜準備中＞"},{action:this.seatReservation,icon:"mdi-seat",title:"席を予約する"},{action:this.issueNumber,icon:"mdi-ticket-account",title:"登校する"},{action:this.signOut,icon:"mdi-logout",title:"サインアウト"}],drawer:null,collapseOnScroll:!0}},created:function(){var t=C.a.database(),e=C.a.storage(),a=C.a.auth().currentUser.uid,n=this,r=new Promise((function(e){var r=t.ref("/users/".concat(a));r.on("value",(function(t){var a=t.val();n.name=a.name,e(a.img)}))}));r.then((function(t){console.debug("MyImg:",t);var a=e.ref("/".concat(t));a.getDownloadURL().then((function(t){var e=new XMLHttpRequest;e.responseType="blob",e.onload=function(){var t=e.response;n.imgURL=URL.createObjectURL(t)},e.open("GET",t),e.send()}))})).then((function(){console.debug("MyDataInit Finish!!!"),console.debug("myEmail:",n.email),console.debug("myName:",n.name)}))},methods:{timeline:function(){console.log("準備中、もうちょいまっておくんなし❤️")},seatReservation:function(){this.$router.push("/seatReservation")},issueNumber:function(){this.$router.push("/issueNumber")},signOut:function(){var t=this;C.a.auth().signOut().then((function(){t.$router.push("/signin")}))}}}),R=V,S=a("40dc"),N=a("5bc1"),D=a("ac7c"),I=a("62ad"),A=a("ce7e"),j=a("553a"),M=a("132d"),O=a("adda"),T=a("8860"),L=a("da13"),U=a("1800"),$=a("8270"),P=a("5d23"),E=a("34c3"),q=a("f774"),H=a("2fa4"),F=a("2a7f"),G=Object(c["a"])(R,_,x,!1,null,null,null),W=G.exports;u()(G,{VAppBar:S["a"],VAppBarNavIcon:N["a"],VCheckbox:D["a"],VCol:I["a"],VDivider:A["a"],VFooter:j["a"],VIcon:M["a"],VImg:O["a"],VList:T["a"],VListItem:L["a"],VListItemAction:U["a"],VListItemAvatar:$["a"],VListItemContent:P["a"],VListItemIcon:E["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VNavigationDrawer:q["a"],VSpacer:H["a"],VToolbarTitle:F["a"]});var B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-toolbar",{attrs:{color:"cyan",dark:"",flat:"",src:a("4ac0")},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[n("v-img",t._b({attrs:{gradient:"to top right, rgba(100,115,201,.7), rgba(25,32,72,.7)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[n("v-tabs",{attrs:{centered:"","slider-color":"cyan","background-color":"transparent"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(5,(function(e){return n("v-tab",{key:e-1,attrs:{href:"#tab-"+t.week[e-1],disabled:t.disabled[e-1]}},[t._v(" Item "+t._s(t.week[e-1])+" ")])})),1)]},proxy:!0}])},[n("v-toolbar-title",[t._v("席どこにする？")])],1),n("v-tabs-items",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[t._l(t.week,(function(t){return n("v-tab-item",{key:t,attrs:{value:"tab-"+t}},[n("SeatWrapCard",{attrs:{day:t}})],1)})),n("v-tab-item",{attrs:{value:"tab-0"}},[n("h1",[t._v("明日から次の週の予約ができます。")])])],2)],1)},z=[],Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:""}},[a("v-row",{attrs:{justify:"center"}},[t.loading?a("Indeterminate"):a("v-col",{attrs:{cols:"11"}},[a("v-row",{attrs:{justify:"end"}},[a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:0,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:1,day:t.day}})],1)],1),a("v-row",{attrs:{justify:"end"}},[a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:2,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:3,day:t.day}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:4,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:5,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:6,day:t.day}})],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:7,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:8,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:9,day:t.day}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:10,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:11,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:12,day:t.day}})],1)],1),a("v-row",{attrs:{justify:"end"}},[a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:13,day:t.day}})],1),a("v-col",{attrs:{cols:"4"}},[a("SeatCard",{attrs:{id:14,day:t.day}})],1)],1)],1)],1)],1)},X=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-snackbar",{attrs:{top:"",right:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" Close ")])],1),a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:n?12:2}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-4"},[t._v("グループ"+t._s(t.id+1)+" "),6==t.count&&t.$vuetify.breakpoint.smAndDown?a("v-icon",{attrs:{color:"red"}},[t._v("mdi-close")]):t.count<=3&&t.$vuetify.breakpoint.smAndDown?a("v-icon",{attrs:{color:"light-green"}},[t._v("mdi-circle-double")]):t.$vuetify.breakpoint.smAndDown?a("v-icon",{attrs:{color:"blue"}},[t._v("mdi-triangle-outline")]):t._e()],1),t.show&&t.$vuetify.breakpoint.smAndDown?a("v-chip-group",[t.loading?a("Indeterminate"):t._l(t.filter_reserver,(function(e,n){return a("v-chip",{key:n},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.reserverData[e]["img"]}})],1),t._v(" "+t._s(t.reserverData[e]["name"])+" ")],1)}))],2):t.show?a("v-chip-group",{attrs:{column:""}},[t.loading?a("Indeterminate"):t._l(t.filter_reserver,(function(e,n){return a("v-chip",{key:n},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.reserverData[e]["img"]}})],1),t._v(" "+t._s(t.reserverData[e]["name"])+" ")],1)}))],2):a("v-list-item-subtitle",[t._v("だれもいません")])],1),6==t.count&&t.$vuetify.breakpoint.mdAndUp?a("v-list-item-avatar",{attrs:{size:"70",color:"red"}},[a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-close")])],1):t.count<=3&&t.$vuetify.breakpoint.mdAndUp?a("v-list-item-avatar",{attrs:{size:"70",color:"light-green"}},[a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-circle-double")])],1):t.$vuetify.breakpoint.mdAndUp?a("v-list-item-avatar",{attrs:{size:"70",color:"blue"}},[a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-triangle-outline")])],1):t._e()],1),a("v-card-actions",[t.reserved?a("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v("キャンセル")]):6!=t.count?a("v-btn",{attrs:{text:""},on:{click:t.reserve}},[t._v("予約")]):t._e()],1)],1)]}}])})],1)},J=[],K=(a("99af"),a("4de4"),a("c975"),a("a9e3"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{indeterminate:"",color:"cyan"}})],1)}),Z=[],tt=(a("b035"),a("490a")),et={},at=Object(c["a"])(et,K,Z,!1,null,"1ecd0796",null),nt=at.exports;u()(at,{VProgressCircular:tt["a"]});var rt={data:function(){return{show:!1,loading:!0,reserved:!1,filter_reserver:[],reserver:[],reserverData:{},count:0,text:"",snackbar:!1}},props:{id:Number,day:String},components:{Indeterminate:nt},watch:{filter_reserver:function(t){0!=t.length?this.show=!0:this.show=!1,this.count=t.length;var e=C.a.auth().currentUser.uid;this.reserved=!1,console.debug(t);for(var a=0;a<t.lebgth;a++)t[a]==e&&(this.reserved=!0)}},created:function(){this.getReserverData()},methods:{init:function(){this.show=!1,this.loading=!0,this.reserved=!1,this.filter_reserver=[],this.reserver=[],this.reserverData={},this.count=0,this.getReserverData()},getReserverData:function(){var t,e,a,n,r,s,o;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return t=this,e=C.a.auth().currentUser.uid,i.next=4,regeneratorRuntime.awrap(t.getReserver());case 4:if(a=i.sent,console.log(a),t.count=a.length,a.length>0)for(n=0;n<a.length;n++)a[n]==e&&(this.reserved=!0);r=0;case 9:if(!(r<a.length)){i.next=23;break}return i.next=12,regeneratorRuntime.awrap(t.getUserData(a[r]));case 12:return s=i.sent,console.debug(s),i.next=16,regeneratorRuntime.awrap(t.getUserImg(s.img));case 16:o=i.sent,console.debug(o),console.log(a[r]),t.reserverData[a[r]]={name:s.realName,img:o};case 20:r++,i.next=9;break;case 23:setTimeout((function(){t.loading=!1}),1e3);case 24:case"end":return i.stop()}}),null,this)},getReserver:function(){var t=C.a.database(),e=this;return new Promise((function(a){var n=t.ref("/seats/".concat(e.day,"/").concat(e.id));n.on("value",(function(t){var n=t.val();console.log(n),e.reserver=n,n=n.filter((function(t){return"nil"!=t})),e.filter_reserver=n,console.log(n),a(n)}))}))},getUserData:function(t){return new Promise((function(e){var a=C.a.database(),n=a.ref("/users/".concat(t));n.on("value",(function(t){e(t.val())}))}))},getUserImg:function(t){return new Promise((function(e){var a=C.a.storage(),n=a.ref("".concat(t));n.getDownloadURL().then((function(t){var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var t=a.response;e(URL.createObjectURL(t))},a.open("GET",t),a.send()}))}))},reserve:function(){var t=C.a.database(),e=C.a.auth().currentUser.uid,a=this,n=new Promise((function(n){var r=t.ref("/seats/".concat(a.day));r.once("value",(function(r){var s=r.val();console.debug(s);t:for(var o=0;o<15;o++)for(var i=0;i<6;i++)if(s[o][i]==e){t.ref("seats/".concat(a.day,"/").concat(o,"/").concat(i)).set("nil");break t}n()}))}));n.then((function(){var n=a.reserver.indexOf("nil");-1==n?(console.debug("もう既に予約されています。リロードしてください"),a.text="[エラー]予約できませんでした。ページをリロードしてください",a.snackbar=!0):(t.ref("seats/".concat(a.day,"/").concat(a.id,"/").concat(n)).set(e),a.text="予約しました！",a.snackbar=!0),a.init()}))},cancel:function(){var t=C.a.database(),e=C.a.auth().currentUser.uid,a=this.reserver.indexOf(e);t.ref("seats/".concat(this.day,"/").concat(this.id,"/").concat(a)).set("nil"),this.init(),this.text="予約をキャンセルしました",this.snackbar=!0}}},st=rt,ot=a("8212"),it=a("8336"),ct=a("b0af"),lt=a("99d9"),ut=a("cc20"),dt=a("ef9a"),vt=a("ce87"),ft=a("2db4"),mt=Object(c["a"])(st,Y,J,!1,null,"45bba9a2",null),ht=mt.exports;u()(mt,{VAvatar:ot["a"],VBtn:it["a"],VCard:ct["a"],VCardActions:lt["a"],VChip:ut["a"],VChipGroup:dt["a"],VHover:vt["a"],VIcon:M["a"],VImg:O["a"],VListItem:L["a"],VListItemAvatar:$["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VSnackbar:ft["a"]});var pt={data:function(){return{loading:!0}},props:["day"],components:{SeatCard:ht,Indeterminate:nt},created:function(){var t=this;setTimeout((function(){t.loading=!1}),1e3)}},bt=pt,gt=a("0fd9"),wt=Object(c["a"])(bt,Q,X,!1,null,"6c60dbdc",null),yt=wt.exports;u()(wt,{VCard:ct["a"],VCol:I["a"],VDivider:A["a"],VRow:gt["a"]});var _t={data:function(){return{model:"",week:["Mon","Tue","Wed","Thu","Fri"],disabled:[!0,!0,!0,!1,!1]}},components:{SeatWrapCard:yt},created:function(){this.setDisabled()},methods:{setDisabled:function(){var t=new Date,e=[[!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1],[!0,!0,!1,!1,!1],[!0,!0,!0,!1,!1],[!0,!0,!0,!0,!1],[!0,!0,!0,!0,!0],[!1,!1,!1,!1,!1]],a=t.getDay();this.disabled=e[a],this.model=5==a?"tab-0":0==a||6==a?"tab-Mon":"tab-".concat(this.week[a])}}},xt=_t,kt=a("71a3"),Ct=a("c671"),Vt=a("fe57"),Rt=a("aac8"),St=a("71d9"),Nt=Object(c["a"])(xt,B,z,!1,null,"c513864e",null),Dt=Nt.exports;u()(Nt,{VCard:ct["a"],VImg:O["a"],VTab:kt["a"],VTabItem:Ct["a"],VTabs:Vt["a"],VTabsItems:Rt["a"],VToolbar:St["a"],VToolbarTitle:F["a"]});var It={components:{NavigationDrawer:W,SeatDayTab:Dt}},At=It,jt=Object(c["a"])(At,w,y,!1,null,"63684f69",null),Mt=jt.exports;u()(jt,{VCol:I["a"],VContent:v["a"],VRow:gt["a"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavigationDrawer"),a("v-content",[a("v-snackbar",{attrs:{top:"",right:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" あなたは今日登校できません "),a("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" Close ")])],1),t.loading?a("Indeterminate"):a("div",[t.haveNumber?a("div",{staticClass:"mt-12"},[a("h1",{staticClass:"text-center headline"},[t._v("あなたの登校番号: "+t._s(t.myNumber))])]):a("div",{staticClass:"mt-12"},[t.attendance?a("div",[a("h1",{staticClass:"text-center headline"},[t._v("あなたはもう登校済みです")]),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"11"}},[a("NowSeatWrapCard")],1)],1)],1):a("div",[a("h1",{staticClass:"text-center headline"},[t._v("あなたの番号は存在しませんでした")]),a("h1",{staticClass:"text-center"},[t._v("↓ボタンを押して番号を作って↓")]),a("v-row",{staticClass:"mt-12",attrs:{justify:"center"}},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{outlined:"","x-large":"",fab:"",color:"cyan"},on:{click:function(e){return t.makeNumber()}}},n),[a("v-icon",[t._v("mdi-ticket-account")])],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("span",[t._v("登校する！")])])],1)],1)])])],1)],1)},Tt=[],Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:""}},[a("v-row",{attrs:{justify:"center"}},[t.loading?a("Indeterminate"):a("v-col",{attrs:{cols:"11"}},[a("v-row",{attrs:{justify:"end"}},[a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:0}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:1}})],1)],1),a("v-row",{attrs:{justify:"end"}},[a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:2}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:3}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:4}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:5}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:6}})],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:7}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:8}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:9}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:10}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:11}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:12}})],1)],1),a("v-row",{attrs:{justify:"end"}},[a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:13}})],1),a("v-col",{attrs:{cols:"4"}},[a("NowSeatCard",{attrs:{id:14}})],1)],1)],1)],1)],1)},Ut=[],$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:n?12:2}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-4"},[t._v("グループ"+t._s(t.id+1))]),t.show?a("v-chip-group",{attrs:{column:"","active-class":"primary--text"}},[t.loading?a("Indeterminate"):t._l(t.userData,(function(e,n){return a("v-chip",{key:n},[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.imgURL[e.img]}})],1),t._v(" "+t._s(e.realName)+" ")],1)}))],2):a("v-list-item-subtitle",[t._v("だれもいません")])],1)],1)],1)]}}])})},Pt=[],Et={data:function(){return{show:!1,loading:!0,userData:[],imgURL:{}}},props:["id"],components:{Indeterminate:nt},created:function(){this.init()},methods:{init:function(){var t,e,a,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.getNowData());case 2:t=r.sent,e=[],a=0;case 5:if(!(a<t.length)){r.next=14;break}return r.t0=e,r.next=9,regeneratorRuntime.awrap(this.getUserData(t[a]));case 9:r.t1=r.sent,r.t0.push.call(r.t0,r.t1);case 11:a++,r.next=5;break;case 14:n=0;case 15:if(!(n<e.length)){r.next=22;break}return r.next=18,regeneratorRuntime.awrap(this.getUserImg(e[n]));case 18:this.imgURL[e[n]]=r.sent;case 19:n++,r.next=15;break;case 22:this.loading=!1;case 23:case"end":return r.stop()}}),null,this)},getNowData:function(){var t=C.a.database(),e=t.ref("seats/Now/".concat(this.id)),a=this;return new Promise((function(t){e.on("value",(function(e){var n=e.val();n=n.filter((function(t){return"nil"!=t})),n.length>0&&(a.show=!0),t(n)}))}))},getUserData:function(t){var e=C.a.database(),a=this;return new Promise((function(n){var r=e.ref("/users/".concat(t));r.on("value",(function(t){var e=t.val();a.userData.push(e),n(e.img)}))}))},getUserImg:function(t){return new Promise((function(e){var a=C.a.storage(),n=a.ref("".concat(t));n.getDownloadURL().then((function(t){var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var t=a.response;e(URL.createObjectURL(t))},a.open("GET",t),a.send()}))}))}}},qt=Et,Ht=Object(c["a"])(qt,$t,Pt,!1,null,"1dc9bd58",null),Ft=Ht.exports;u()(Ht,{VAvatar:ot["a"],VCard:ct["a"],VChip:ut["a"],VChipGroup:dt["a"],VHover:vt["a"],VImg:O["a"],VListItem:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"]});var Gt={data:function(){return{loading:!0}},components:{Indeterminate:nt,NowSeatCard:Ft},created:function(){var t=this;setTimeout((function(){t.loading=!1}),1e3)}},Wt=Gt,Bt=Object(c["a"])(Wt,Lt,Ut,!1,null,"16fbe4b1",null),zt=Bt.exports;u()(Bt,{VCard:ct["a"],VCol:I["a"],VDivider:A["a"],VRow:gt["a"]});var Qt={data:function(){return{loading:!0,show:!1,haveNumber:!1,attendance:!1,myNumber:"",realName:"",snackbar:!1}},components:{NavigationDrawer:W,Indeterminate:nt,NowSeatWrapCard:zt},created:function(){this.init()},methods:{init:function(){var t,e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.getAttendanceData());case 2:return t=a.sent,console.debug(t),a.next=6,regeneratorRuntime.awrap(this.searchMyNumber(t));case 6:if(!a.sent){a.next=15;break}return console.debug("自分の番号が存在しました"),this.haveNumber=!0,a.next=11,regeneratorRuntime.awrap(this.getMyNumberData(t));case 11:e=a.sent,this.myNumber=e,a.next=23;break;case 15:return a.next=17,regeneratorRuntime.awrap(this.searchMyuidNow());case 17:if(!a.sent){a.next=22;break}console.debug("お前もう学校おるやんけ"),this.attendance=!0,a.next=23;break;case 22:console.debug("自分の番号がありませんでした");case 23:this.loading=!1;case 24:case"end":return a.stop()}}),null,this)},getAttendanceData:function(){var t=C.a.database(),e=t.ref("attendance"),a=this;return new Promise((function(t){e.on("value",(function(e){var n=e.val();delete n["nil"],a.attendanceData=n,t(n)}))}))},searchMyNumber:function(t){var e=C.a.auth().currentUser.uid;return new Promise((function(a){for(var n in t)t[n]["uid"]==e&&a(!0);a(!1)}))},searchMyuidNow:function(){var t=C.a.database(),e=C.a.auth().currentUser.uid;return new Promise((function(a){var n=t.ref("/seats/Now");n.on("value",(function(t){var n=t.val(),r=!1;t:for(var s=0;s<15;s++)for(var o=0;o<6;o++)if(n[s][o]==e){r=!0;break t}a(r)}))}))},makeNumber:function(){var t,e,a,n,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(this.getAttendanceData());case 2:t=s.sent,e=0,a=!0;case 5:if(!a){s.next=19;break}n=!0,e=Math.floor(9e5*Math.random())+1e5,s.t0=regeneratorRuntime.keys(t);case 9:if((s.t1=s.t0()).done){s.next=16;break}if(r=s.t1.value,e!=r){s.next=14;break}return n=!1,s.abrupt("break",16);case 14:s.next=9;break;case 16:n&&(this.setNumber(e),a=!1),s.next=5;break;case 19:case"end":return s.stop()}}),null,this)},setNumber:function(t){var e,a,n,r,s;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=this,console.debug("setNumber",t),o.next=4,regeneratorRuntime.awrap(this.searchMyReservation());case 4:a=o.sent,"非登校日"==a?this.snackbar=!0:(console.debug(a),n=new Date,n.setMinutes(n.getMinutes()+1),console.debug("timeLimit",n),r=C.a.database(),s=new Promise((function(e){r.ref("attendance/".concat(t)).set({uid:C.a.auth().currentUser.uid,seat:a,timeLimit:{Hours:n.getHours(),Minutes:n.getMinutes()}}),e()})),s.then((function(){e.$router.go({path:e.$router.currentRoute.path,force:!0})})));case 6:case"end":return o.stop()}}),null,this)},searchMyReservation:function(){var t=C.a.database(),e=C.a.auth().currentUser.uid,a=new Date;console.log(a);var n=["Mon","Tue","Wed","Thu","Fri"];if(0!=a.getDay()&&6!=a.getDay()){var r=n[a.getDay()-1],s=t.ref("seats/".concat(r));return new Promise((function(t){s.on("value",(function(a){var n=a.val(),r="nil";t:for(var s=0;s<15;s++)for(var o=0;o<6;o++)if(n[s][o]==e){r=s;break t}t(r)}))}))}return new Promise((function(t){console.log("今日は登校日ではありません"),t("非登校日")}))},getMyNumberData:function(t){var e=C.a.auth().currentUser.uid;return new Promise((function(a){for(var n in t)t[n]["uid"]==e&&a(n)}))}}},Xt=Qt,Yt=a("3a2f9"),Jt=Object(c["a"])(Xt,Ot,Tt,!1,null,"525b66fd",null),Kt=Jt.exports;u()(Jt,{VBtn:it["a"],VCol:I["a"],VContent:v["a"],VIcon:M["a"],VRow:gt["a"],VSnackbar:ft["a"],VTooltip:Yt["a"]});var Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{staticClass:"ma-4",attrs:{dense:"",floating:"",dark:""}},[a("h1",[t._v(t._s(t.now))])]),a("v-row",[a("v-col",{staticClass:"mt-12",attrs:{cols:"12"}},[t.show?a("div",{staticClass:"animated",class:t.animated},[a("h1",{staticClass:"text-center display-4 rainbow"},[t._v("おはよう！")])]):a("div",{staticClass:"animated",class:t.animated},[a("h1",{staticClass:"text-center display-4 rainbow"},[t._v("ようこそN中へ")])])]),a("v-col",{staticClass:"mt-12"},[t.rejection?a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"8"}},[a("v-alert",{attrs:{prominent:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",[t._v("これからデータの初期化をはじめます。エラーが起きると管理人がクッソ大変なんでしばらく触らないでください")])],1)],1)],1)],1):a("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"登校番号を入力してね",hint:"メニューの「登校する」を押して番号を取得してね",outlined:"",rounded:"","persistent-hint":"",rules:t.rules,color:"cyan"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-fab-transition",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.valid,expression:"valid"}],staticClass:"pink",attrs:{fab:"",dark:"",required:""},on:{click:function(e){return t.send()}}},[a("v-icon",[t._v("mdi-send")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("NowSeatWrapCard")],1),a("v-fab-transition",[a("v-btn",{attrs:{color:"cyan",fab:"",dark:"",fixed:"","x-large":"",right:"",bottom:"",outlined:""},on:{click:function(e){t.dialog=!0}}},[a("v-icon",[t._v("mdi-account-group")])],1)],1),a("v-col",{staticClass:"qrCord",attrs:{cols:"2"}},[a("v-img",{attrs:{src:t.qr}})],1)],1)},te=[],ee={data:function(){return{now:"",number:"",show:!0,inAnimated:"",outAnimated:"",middleAnimated:"",color:"",animated:"",rules:[function(t){return t.length>0||"内容がないよう😭"}],valid:!0,rejection:!1,dialog:!1,qr:""}},components:{NowSeatWrapCard:zt},created:function(){this.getQR(),this.getNow(),setInterval(function(){this.animation()}.bind(this),6e3)},methods:{getNow:function(){setInterval(function(){var t=new Date;this.now=t.toLocaleString(),this.changeScreen(t)}.bind(this),1e3)},animation:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.getInAndOut());case 2:t=e.sent,this.inAnimated=t[0],this.outAnimated=t[1],this.middleAnimated=t[2],this.show=!this.show,this.animated=t[0],setTimeout(function(){this.animated=t[2],setTimeout(function(){this.animated=t[1]}.bind(this),2e3)}.bind(this),2e3);case 9:case"end":return e.stop()}}),null,this)},getInAndOut:function(){var t=["bounceIn","bounceInDown","bounceInLeft","bounceInRight","bounceInUp"],e=["bounceOut","bounceOutDown","bounceOutLeft","bounceOutRight","bounceOutUp"],a=["bounce","flash","pulse","rubberBand","shake","swing","tada","wobble","jello","heartBeat"],n="",r="",s="",o=this;return new Promise((function(i){var c=!0;while(c)n=t[Math.floor(5*Math.random())],o.inAnimated!=n&&(c=!1);c=!0;while(c)r=e[Math.floor(5*Math.random())],o.outAnimated!=r&&(c=!1);c=!0;while(c)s=a[Math.floor(10*Math.random())],o.middleAnimated!=s&&(c=!1);i([n,r,s])}))},dataReset:function(t){for(var e=C.a.database(),a=0;a<15;a++)for(var n=0;n<6;n++)e.ref("seats/".concat(t,"/").concat(a,"/").concat(n)).set("nil");console.debug("".concat(t,":リセット完了"))},changeScreen:function(t){var e=this;if(9==t.getHours()&&30==t.getMinutes()&&0==t.getSeconds()){var a=["Mon","Tue","Wed","Thu","Fri"],n=a[t.getDay()-1];this.rejection=!0,setTimeout((function(){e.dataReset(n),setTimeout((function(){e.rejection=!1}),5e3)}),5e3)}else 16==t.getHours()&&0==t.getMinutes()&&0==t.getSeconds()?(this.rejection=!0,setTimeout((function(){e.dataReset("Now"),setTimeout((function(){e.rejection=!1}),5e3)}),5e3)):55==t.getSeconds()&&(this.cacheAttendanceNumber(),console.debug("１分"))},cacheAttendanceNumber:function(){var t=new Date,e=C.a.database(),a=e.ref("attendance/");a.on("value",(function(a){var n=a.val();for(var r in delete n["nil"],n){var s=n[r]["timeLimit"],o=new Date;o.setHours(s["Hours"]),o.setMinutes(s["Minutes"]),o.getHours()==t.getHours()&&o.getMinutes()<=t.getMinutes()?(e.ref("attendance/".concat(r)).remove(),console.debug("".concat(r,"を削除しました"))):0==o.getMinutes()&&0==t.getMinutes()&&(e.ref("attendance/".concat(r)).remove(),console.debug("".concat(r,"を削除しました")))}}))},send:function(){console.log(this.number),this.$router.push("/attendance_result/".concat(this.number))},getQR:function(){var t=this,e=C.a.storage(),a=e.ref("QR.png");a.getDownloadURL().then((function(e){var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var e=a.response;t.qr=URL.createObjectURL(e)},a.open("GET",e),a.send()}))}}},ae=ee,ne=(a("49d9"),a("0798")),re=a("169a"),se=a("0789"),oe=a("4bd4"),ie=a("8654"),ce=Object(c["a"])(ae,Zt,te,!1,null,"42a0f7b9",null),le=ce.exports;u()(ce,{VAlert:ne["a"],VBtn:it["a"],VCol:I["a"],VDialog:re["a"],VFabTransition:se["c"],VForm:oe["a"],VIcon:M["a"],VImg:O["a"],VRow:gt["a"],VTextField:ie["a"],VToolbar:St["a"]});var ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Clock"),t.loading?a("Indeterminate"):a("div",[t.show?a("div",[t.select?a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"d-flex",attrs:{cols:"5"}},[a("v-select",{attrs:{items:t.items,label:"グループを選んでください"},model:{value:t.selectGroup,callback:function(e){t.selectGroup=e},expression:"selectGroup"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-fab-transition",[a("v-btn",{staticClass:"pink",attrs:{fab:"",dark:"",required:""},on:{click:function(e){return t.selectAttendance()}}},[a("v-icon",[t._v("mdi-send")])],1)],1)],1)],1):a("div",[a("h1",{staticClass:"text-center display-3"},[t._v(t._s(t.realName)+"さんの席が確定しました！")]),a("h1",{staticClass:"text-center"},[t._v("あなたはグループ"+t._s(t.group+1)+"です。")])]),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("NowSeatWrapCard")],1)],1)],1):a("div",[a("h1",{staticClass:"text-center display-3"},[t._v("番号が存在しませんでした")]),a("p",{staticClass:"text-center"},[t._v("1分経つと番号は無効になります。もう一度発行してください")])]),a("v-row",{staticClass:"mt-12",attrs:{justify:"center"}},[a("v-col",{staticClass:"mt-12",attrs:{cols:"1"}},[a("v-btn",{attrs:{outlined:"","x-large":"",fab:"",color:"cyan"},on:{click:function(e){return t.pageReturn()}}},[a("v-icon",[t._v("mdi-keyboard-return")])],1)],1)],1)],1)],1)},de=[],ve=(a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"ma-4",attrs:{dense:"",floating:"",dark:""}},[a("h1",[t._v(t._s(t.now))])])}),fe=[],me={data:function(){return{now:""}},created:function(){this.getNow()},methods:{getNow:function(){setInterval(function(){this.now=(new Date).toLocaleString()}.bind(this),1e3)}}},he=me,pe=Object(c["a"])(he,ve,fe,!1,null,"12813933",null),be=pe.exports;u()(pe,{VToolbar:St["a"]});var ge={data:function(){return{loading:!0,show:!1,select:!1,realName:"",uid:"",group:"",items:[],selectGroup:"",now:[]}},components:{Clock:be,NowSeatWrapCard:zt,Indeterminate:nt},created:function(){var t=this;this.searchInputNumber(),setTimeout((function(){t.loading=!1}),1e3)},methods:{searchInputNumber:function(){var t,e,a,n,r,s,o,i;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,regeneratorRuntime.awrap(this.getAttendanceData());case 2:if(t=c.sent,e=this.$route.params.number,console.debug(t),this.show=e in t,!this.show){c.next=37;break}return a=t[e]["seat"],n=t[e]["uid"],this.uid=n,c.next=12,regeneratorRuntime.awrap(this.getUserData(n));case 12:return r=c.sent,c.next=15,regeneratorRuntime.awrap(this.getNowData());case 15:if(s=c.sent,this.now=s,this.realName=r["realName"],console.debug(r),o=new Date(2020,1,1,9,30,0),i=new Date,!(o.getHours()>=i.getHours()&&o.getMinutes()>=i.getMinutes())){c.next=33;break}if(console.debug("９時半以前"),"nil"!=a){c.next=29;break}return this.select=!0,c.next=27,regeneratorRuntime.awrap(this.initSelectItem());case 27:c.next=31;break;case 29:return c.next=31,regeneratorRuntime.awrap(this.reservationAttendance(n,a));case 31:c.next=36;break;case 33:return console.debug("９時半以降"),c.next=36,regeneratorRuntime.awrap(this.randomAttendance(n));case 36:this.removeMyNumber();case 37:case"end":return c.stop()}}),null,this)},getAttendanceData:function(){var t=C.a.database(),e=t.ref("attendance/");return new Promise((function(t){e.on("value",(function(e){var a=e.val();delete a["nil"],t(a)}))}))},getUserData:function(t){var e=C.a.database(),a=e.ref("users/".concat(t));return new Promise((function(t){a.on("value",(function(e){t(e.val())}))}))},getNowData:function(){var t=C.a.database(),e=t.ref("seats/Now");return new Promise((function(t){e.on("value",(function(e){t(e.val())}))}))},getReservationData:function(){var t=C.a.database(),e=new Date,a=["Mon","Tue","Wed","Thu","Fri"];if(console.debug(e.getDay()),0!=e.getDay()&&6!=e.getDay()){var n=a[e.getDay()-1],r=t.ref("seats/".concat(n));return new Promise((function(t){r.on("value",(function(e){t(e.val())}))}))}},initSelectItem:function(){var t,e,a,n,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return t=this.now,s.next=3,regeneratorRuntime.awrap(this.getReservationData());case 3:for(e=s.sent,console.debug(e),a=0;a<15;a++)n=t[a].filter((function(t){return"nil"!=t})),r=e[a].filter((function(t){return"nil"!=t})),console.debug("x",n),console.debug("y",r),n.length+r.length!=6&&this.items.push("グループ".concat(a+1));this.selectGroup=this.items[0];case 7:case"end":return s.stop()}}),null,this)},selectAttendance:function(){var t=C.a.database(),e=this.selectGroup.replace("グループ","")-1,a=this.now[e].indexOf("nil");t.ref("seats/Now/".concat(e,"/").concat(a)).set(this.uid),this.pageReturn()},randomAttendance:function(t){for(var e=C.a.database(),a=this.now,n=[],r=0;r<15;r++){var s=a[r].filter((function(t){return"nil"!=t}));n.push(s.length)}var o=Math.min.apply(null,n);console.debug(n),console.debug(o);for(var i=[],c=0;c<15;c++)n[c]==o&&i.push(c);console.debug(i);var l=Math.floor(Math.random()*i.length);this.group=i[l];var u=this.now[i[l]].indexOf("nil");e.ref("seats/Now/".concat(i[l],"/").concat(u)).set(t)},reservationAttendance:function(t,e){var a=C.a.database();e=Number(e),this.group=e;var n=this.now[e].indexOf("nil");a.ref("seats/Now/".concat(e,"/").concat(n)).set(t)},removeMyNumber:function(){var t=C.a.database();t.ref("attendance/".concat(this.$route.params.number)).remove(),console.debug(this.$route.params.number)},pageReturn:function(){this.$router.push("/attendance")}}},we=ge,ye=a("b974"),_e=Object(c["a"])(we,ue,de,!1,null,"a2297908",null),xe=_e.exports;u()(_e,{VBtn:it["a"],VCol:I["a"],VFabTransition:se["c"],VIcon:M["a"],VRow:gt["a"],VSelect:ye["a"]});var ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-app-bar",{attrs:{dark:"",src:a("a3b7"),extended:""},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[n("v-img",t._b({attrs:{gradient:"to top right, rgba(19,84,122,.5), rgba(128,208,199,.8)"}},"v-img",a,!1))]}}])},[n("v-icon",[t._v("mdi-tea")]),n("v-toolbar-title",[t._v("Niftea")]),n("v-spacer"),n("v-toolbar-title",[t._v("signin")])],1),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"10"}},[n("v-stepper",{attrs:{vertical:""},model:{value:t.e6,callback:function(e){t.e6=e},expression:"e6"}},[n("v-stepper-step",{attrs:{complete:t.e6>1,step:"1"}},[t._v(" メールアドレスの入力 ")]),n("v-stepper-content",{attrs:{step:"1"}},[n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.e6=2}}},[t._v("OK!")])],1),n("v-stepper-step",{attrs:{complete:t.e6>2,step:"2"}},[t._v("パスワードの入力")]),n("v-stepper-content",{attrs:{step:"2"}},[n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-text-field",{attrs:{type:"password",label:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("div",{on:{click:t.signIn}},[n("v-btn",{attrs:{color:"primary"}},[t._v("signin!!")])],1),n("v-btn",{attrs:{text:""},on:{click:function(e){t.e6=1}}},[t._v("return")])],1)],1)],1)],1),n("v-footer",{attrs:{padless:"",fixed:""}},[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" — "),n("strong",[t._v("Vuetify")])])],1)],1)},Ce=[],Ve={name:"Signin",data:function(){return{e6:1,valid:!1,email:"",password:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},methods:{signIn:function(){var t=this;C.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(){alert("Success!"),t.$router.push("/seatReservation")}),(function(t){alert(t.message)}))}}},Re=Ve,Se=a("7e85"),Ne=a("e516"),De=a("56a4"),Ie=Object(c["a"])(Re,ke,Ce,!1,null,null,null),Ae=Ie.exports;u()(Ie,{VAppBar:S["a"],VBtn:it["a"],VCol:I["a"],VFooter:j["a"],VIcon:M["a"],VImg:O["a"],VRow:gt["a"],VSpacer:H["a"],VStepper:Se["a"],VStepperContent:Ne["a"],VStepperStep:De["a"],VTextField:ie["a"],VToolbarTitle:F["a"]});a("ea7b");n["a"].use(g["a"]);var je=new g["a"]({routes:[{path:"*",redirect:"signin"},{path:"/seatReservation",name:"SeatReservation",component:Mt,meta:{requiresAuth:!0}},{path:"/issueNumber",name:"IssueNumber",component:Kt,meta:{requiresAuth:!0}},{path:"/attendance",name:"Attendance",component:le,meta:{requiresAuth:!0}},{path:"/attendance_result/:number",name:"Attendance_result",component:xe,meta:{requiresAuth:!0}},{path:"/signin",name:"Signin",component:Ae}]});je.beforeEach((function(t,e,a){var n=t.matched.some((function(t){return t.meta.requiresAuth}));n?C.a.auth().onAuthStateChanged((function(e){e?a():a({path:"/signin",query:{redirect:t.fullPath}})})):a()}));var Me=je,Oe=a("f309");n["a"].use(Oe["a"]);var Te=new Oe["a"]({});n["a"].config.productionTip=!1;var Le={apiKey:"AIzaSyDfAp7xoLCcMyUDAN1_pBQ6tzF28AzEoHI",authDomain:"niftea-e6206.firebaseapp.com",databaseURL:"https://niftea-e6206.firebaseio.com",projectId:"niftea-e6206",storageBucket:"niftea-e6206.appspot.com",messagingSenderId:"518485193590",appId:"1:518485193590:web:1b1bdf7718400b6d02c057",measurementId:"G-3DT90DCNHP"};C.a.initializeApp(Le),new n["a"]({vuetify:Te,router:Me,store:b,render:function(t){return t(m)}}).$mount("#app")},a3b7:function(t,e,a){t.exports=a.p+"img/tea.efef8a01.jpg"},b035:function(t,e,a){"use strict";var n=a("b97f"),r=a.n(n);r.a},b97f:function(t,e,a){},cb3a:function(t,e,a){}});
//# sourceMappingURL=app.559ee7f1.js.map